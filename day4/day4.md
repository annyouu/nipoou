# やったこと
- AWS:VPCについて (ALC)セキュリティグループはまだ
- Next.js:Server ComponentとClient Componentについて学んだ。
    - Cookieの非同期処理、同期処理、Promiseとかが何であるかは学べなかった。

# 最初の状態
AWS勉強のロードマップに従って、VPCからの勉強をしたが、何かわからないかった。

# 何につまづいたのか・分からなかったのか
VPCがそもそも何か?AWSでどう使われるかがわからなかった。

# なぜ詰まったのか
そもそもネットワークの知識も危うかったため、AWS以前にIPアドレスのネットワーク部とホスト部の切り分けから入った。
VPCをそのまま続けてもネットワークの基礎を忘れていたため詰まった。

# どう理解に持っていったのか
まず、VPCの定義を抑えた。
そこから大事な概念
- リージョンとAZについて
- サブネット(publicとprivate)
- サブネットマスク
- ルートテーブル
- ルーティング
を順番に確認していった。

# 今ならどう説明するか

### VPCとは？
自分専用の仮想ネットワークを構築する技術のこと。

### サブネット
そのVPCの中にさらに細かく分けた部屋がサブネットである。サブネットは「特定の1つのAZ」に所属する。

### リージョンとAZ
- リージョン = 都市！
世界各地にある地理的な拠点のこと。
東京リージョンとか

- AZ：1つのリージョンの中にある、物理的に切り離された建物のグループのこと。
    - 役割：家事や停電で1つの建物がダメになっても、別の建物は生き残るという可用性を実現させるため。
    - 1つのリージョンに最低3つ以上のAZがあるのが一般的（東京リージョンなら ap-northeast-1a, 1c, 1d など）。
### パブリックサブネット、プライベートサブネット
要は、外の世界、インターネットに接続可能か不可能かの違い。

ルートテーブルにインターネットゲートウェイへのルーティングアリかナシか

### ルーティング
複数の異なるネットワーク間でパケットを送受信するときに、宛先への最適な経路を選択するプロセスのこと。

### ルートテーブル
- サブネットに関連付けられ、テーブルに書かれている宛先IPアドレスに基づいて、どこへパケットを送るべきかを決める。
- 複数のルールがある場合、より具体的な（範囲の狭い）IPアドレス帯のルールが優先される。

### インターネットゲートウェイ
- VPCとインターネットを繋ぐ役割
- ルートテーブルで0.0.0.0/0のターゲットをIGWに向ける設定で、サブネットを指すことができる。

### ネットワーク部とホスト部
/24であれば、
- **ネットワーク部**: 左から24ビット（10.0.0.x の「10.0.0」の部分）
- **ホスト部**: 残りの8ビット（「x」の部分） となります。ホスト部がその部屋で接続できる機器の数。

/24,/16で機器の数は変わるか？
めっちゃ変わる。ホスト部に使える「ビット数」が多ければ多いほど接続できる機器の数は増える。
/24なら、2の8条で、256個
/16なら、2の16条で、65536個になる。

AWSのVPCで/16が最大サイズ(約6.5個)に制限されている理由は、あまりに巨大なネットワークを1つ作ってしまうと、ネットワーク内の管理通信が増えすぎて、かえって効率が悪くなってしまうから。大きければ大きいほど良いというわけではなく、用途に合わせて、適切なサイズ(/20や/21など)にするのがベストプラクティス。